"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8282],{1178:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var i=n(4848),o=n(8453);const s={sidebar_position:9,sidebar_label:"0009 React Router Loadeer",description:"This MADR discusses the pros and cos of the react router loader functionality.",status:"rejected",date:new Date("2024-06-05T00:00:00.000Z"),deciders:null},r="React Router Loader",c={id:"decisions/react-router-loaders",title:"React Router Loader",description:"This MADR discusses the pros and cos of the react router loader functionality.",source:"@site/docs/decisions/0009-react-router-loaders.md",sourceDirName:"decisions",slug:"/decisions/react-router-loaders",permalink:"/docs/decisions/react-router-loaders",draft:!1,unlisted:!1,editUrl:"https://github.com/simnova/ownercommunity/tree/main/docusaurus/docs/decisions/0009-react-router-loaders.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9,sidebar_label:"0009 React Router Loadeer",description:"This MADR discusses the pros and cos of the react router loader functionality.",status:"rejected",date:"2024-06-05T00:00:00.000Z",deciders:null},sidebar:"tutorialSidebar",previous:{title:"0008 White Label",permalink:"/docs/decisions/white-label"},next:{title:"ADR Template",permalink:"/docs/decisions/adr-template"}},a={},d=[{value:"Context and Problem Statement",id:"context-and-problem-statement",level:2},{value:"Decision Drivers",id:"decision-drivers",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Links/Resources",id:"linksresources",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"react-router-loader",children:"React Router Loader"}),"\n",(0,i.jsx)(t.h2,{id:"context-and-problem-statement",children:"Context and Problem Statement"}),"\n",(0,i.jsxs)(t.p,{children:["Considering the integration of React Router DOM v6 with Apollo Client for data loading, we encounter challenges with using hooks like ",(0,i.jsx)(t.code,{children:"useQuery"})," within the ",(0,i.jsx)(t.code,{children:"loader"})," function, necessitating direct ",(0,i.jsx)(t.code,{children:"client.query"})," usage. This method complicates the distinct roles of caching between the router and Apollo provider."]}),"\n",(0,i.jsx)(t.h2,{id:"decision-drivers",children:"Decision Drivers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Complexity in rewriting existing data fetching setups to accommodate router-based loading."}),"\n",(0,i.jsx)(t.li,{children:"Unclear benefits of integrating data loading within the router context."}),"\n",(0,i.jsx)(t.li,{children:"Confusion and potential conflicts between router and Apollo provider caching mechanisms."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Integrate React Router Loader"}),": Implement loader functions in routes to handle data fetching."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Retain Current Apollo Client Setup"}),": Continue using Apollo Client's ",(0,i.jsx)(t.code,{children:"useQuery"})," outside the routing context."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Hybrid Approach"}),": Use a combination of both methods selectively based on specific needs."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"decision-outcome",children:"Decision Outcome"}),"\n",(0,i.jsxs)(t.p,{children:["Chosen option: ",(0,i.jsx)(t.strong,{children:"Retain Current Apollo Client Setup"}),", because integrating the React Router Loader would require extensive rewriting with unclear benefits, and it blurs the lines between routing and data management responsibilities, which could lead to maintenance challenges and cache consistency issues."]}),"\n",(0,i.jsx)(t.h2,{id:"linksresources",children:"Links/Resources"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://community.apollographql.com/t/how-to-load-data-with-react-router-dom-v6-and-handling-errorpage/5347/11",children:"Discussion on React Router and Apollo Client Integration"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://reactrouter.com/en/main/route/route#loader",children:"React Router Official Documentation on Loader"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://www.apollographql.com/docs/react/data/suspense/#initiating-queries-outside-react",children:"Apollo GraphQL Documentation on Initiating Queries Outside React"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);