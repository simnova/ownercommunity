"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8096],{1744:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var i=t(4848),o=t(8453);const r={sidebar_position:5,sidebar_label:"0003 Domain Driven Design",description:"Domain Driven Design Decisions.",status:"accepted",contact:"mgupta83",date:new Date("2024-04-18T00:00:00.000Z"),deciders:"gidich, mgupta83",consulted:null,informed:"ikeem07, nguyenduy, heruwala"},s="Use Open Telemetry to add observability to the project",a={id:"decisions/domain-driven-design",title:"Use Open Telemetry to add observability to the project",description:"Domain Driven Design Decisions.",source:"@site/docs/decisions/0003-domain-driven-design.md",sourceDirName:"decisions",slug:"/decisions/domain-driven-design",permalink:"/docs/decisions/domain-driven-design",draft:!1,unlisted:!1,editUrl:"https://github.com/simnova/ownercommunity/tree/main/docusaurus/docs/decisions/0003-domain-driven-design.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,sidebar_label:"0003 Domain Driven Design",description:"Domain Driven Design Decisions.",status:"accepted",contact:"mgupta83",date:"2024-04-18T00:00:00.000Z",deciders:"gidich, mgupta83",consulted:null,informed:"ikeem07, nguyenduy, heruwala"},sidebar:"tutorialSidebar",previous:{title:"002 Open Telemetry",permalink:"/docs/decisions/open-telemetry"},next:{title:"ADR Template",permalink:"/docs/decisions/adr-template"}},d={},l=[{value:"Context and Problem Statement",id:"context-and-problem-statement",level:2},{value:"Decision Drivers",id:"decision-drivers",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"More Information",id:"more-information",level:2}];function c(e){const n={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"use-open-telemetry-to-add-observability-to-the-project",children:"Use Open Telemetry to add observability to the project"}),"\n",(0,i.jsx)(n.h2,{id:"context-and-problem-statement",children:"Context and Problem Statement"}),"\n",(0,i.jsx)(n.p,{children:"For the Owner Community project, we need end-to-end observability to monitor and troubleshoot the application. We need to track the performance of the application, identify bottlenecks, and troubleshoot issues. We need a solution that provides distributed tracing, metrics, and logging capabilities. We need to decide on a tool that can provide these capabilities and integrate well with our existing infrastructure."}),"\n",(0,i.jsx)(n.h2,{id:"decision-drivers",children:"Decision Drivers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Apollo graphql, is a key technology used for the application and is open telemetry compliant and requires minimal changes to integrate with open telemetry."}),"\n",(0,i.jsx)(n.li,{children:"Being hosted on Microsoft Azure, Azure Monitor is already compliant with open telemetry and can be easily integrated."}),"\n",(0,i.jsx)(n.li,{children:"Trace logs are easily viewable in Azure Monitor and can be used to troubleshoot issues."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Option #1: Application Insights"}),": Microsoft's application performance management service. This was initially in the project before the open telemetry was considered. The project had only minimal logging and was not providing the required details for troubleshooting."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Option #2: Open Telemetry (@azure/monitor-opentelemetry) + Azure Monitor"}),": This option leverages open telemetry but uses Microsoft Distribution of open telemetry to integrate with Azure Monitor and provides automatic additional logging for azure functions."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Option #3: Open Telemetry (@azure//monitor-opentelemetry-exporter) + Azure Monitor"}),": This option requires additional work for azure functions that is provided by the @azure/monitor-opentelemetry package."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Option #4: Open Telemetry + DataDog"}),": A monitoring and analytics platform. DataDog was not chosen because it was not ingesting all the details required for troubleshooting. It also required a server to be stood up and an agent to be installed on the server as well as using a proprietary sdk."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"decision-outcome",children:"Decision Outcome"}),"\n",(0,i.jsx)(n.p,{children:"Chosen option: Option #2: Use Open Telemetry (@azure/monitor-opentelemetry) + Azure Monitor to add observability to the project.\nThe npm package @azure/monitor-opentelemetry provides MongoDb and Azure functions instrumentation out of the box.\nApollo Graphql is already open telemetry compliant and requires minimal changes to integrate with open telemetry."}),"\n",(0,i.jsx)(n.h2,{id:"more-information",children:"More Information"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@azure/monitor-opentelemetry",children:"npm package @azure/monitor-opentelemetry"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);